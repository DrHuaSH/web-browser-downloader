<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Pages éƒ¨ç½²æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-item {
            background: #f5f5f5;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #007acc;
        }
        .success { border-left-color: #28a745; }
        .error { border-left-color: #dc3545; }
        .warning { border-left-color: #ffc107; }
        button {
            background: #007acc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #005a9e; }
        #results { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>ğŸš€ GitHub Pages éƒ¨ç½²æµ‹è¯•</h1>
    
    <div class="test-item">
        <h3>ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•</h3>
        <p>åœ¨éƒ¨ç½²åˆ°GitHub Pagesä¹‹å‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹é¡¹ç›®ï¼š</p>
        <ul>
            <li>âœ… æ‰€æœ‰æ–‡ä»¶è·¯å¾„ä½¿ç”¨ç›¸å¯¹è·¯å¾„</li>
            <li>âœ… JavaScriptæ¨¡å—æ­£ç¡®åŠ è½½</li>
            <li>âœ… CSSæ ·å¼æ–‡ä»¶æ­£ç¡®å¼•ç”¨</li>
            <li>âœ… å›¾æ ‡å’Œèµ„æºæ–‡ä»¶å¯è®¿é—®</li>
            <li>âœ… ç§»åŠ¨è®¾å¤‡é€‚é…æ­£å¸¸</li>
        </ul>
    </div>

    <div class="test-item">
        <h3>ğŸ”§ å¿«é€ŸåŠŸèƒ½æµ‹è¯•</h3>
        <button onclick="testModuleLoading()">æµ‹è¯•æ¨¡å—åŠ è½½</button>
        <button onclick="testUIElements()">æµ‹è¯•UIå…ƒç´ </button>
        <button onclick="testMobileFeatures()">æµ‹è¯•ç§»åŠ¨åŠŸèƒ½</button>
        <button onclick="runAllTests()">è¿è¡Œå…¨éƒ¨æµ‹è¯•</button>
    </div>

    <div id="results"></div>

    <div class="test-item">
        <h3>ğŸ“± ç§»åŠ¨è®¾å¤‡æµ‹è¯•æç¤º</h3>
        <p>åœ¨æ‰‹æœºä¸Šæµ‹è¯•æ—¶ï¼Œè¯·æ³¨æ„ï¼š</p>
        <ul>
            <li>è§¦æ‘¸æ“ä½œæ˜¯å¦å“åº”æ­£å¸¸</li>
            <li>ç•Œé¢æ˜¯å¦é€‚é…å±å¹•å°ºå¯¸</li>
            <li>ä¸‹è½½åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ</li>
            <li>é”™è¯¯æç¤ºæ˜¯å¦æ¸…æ™°å¯è§</li>
        </ul>
    </div>

    <div class="test-item">
        <h3>ğŸŒ GitHub Pages éƒ¨ç½²åéªŒè¯</h3>
        <p>éƒ¨ç½²å®Œæˆåï¼Œè¯·åœ¨ä»¥ä¸‹åœ°å€æµ‹è¯•ï¼š</p>
        <p><strong>https://DrHua.github.io/web-browser-downloader</strong></p>
        <p>æµ‹è¯•é¡¹ç›®ï¼š</p>
        <ul>
            <li>é¡µé¢æ˜¯å¦æ­£å¸¸åŠ è½½</li>
            <li>æ‰€æœ‰æŒ‰é’®æ˜¯å¦å¯ç‚¹å‡»</li>
            <li>åœ°å€æ è¾“å…¥æ˜¯å¦æ­£å¸¸</li>
            <li>ä¸‹è½½åŠŸèƒ½æ˜¯å¦å·¥ä½œ</li>
        </ul>
    </div>

    <script>
        function addResult(message, type = 'success') {
            const results = document.getElementById('results');
            const div = document.createElement('div');
            div.className = `test-item ${type}`;
            div.innerHTML = `<p>${message}</p>`;
            results.appendChild(div);
        }

        function testModuleLoading() {
            try {
                // æ£€æŸ¥ä¸»è¦çš„JavaScriptæ–‡ä»¶æ˜¯å¦å­˜åœ¨
                fetch('./js/main.js')
                    .then(response => {
                        if (response.ok) {
                            addResult('âœ… ä¸»JavaScriptæ¨¡å—åŠ è½½æ­£å¸¸', 'success');
                        } else {
                            addResult('âŒ ä¸»JavaScriptæ¨¡å—åŠ è½½å¤±è´¥', 'error');
                        }
                    })
                    .catch(() => {
                        addResult('âŒ æ— æ³•è®¿é—®JavaScriptæ¨¡å—', 'error');
                    });
            } catch (error) {
                addResult('âŒ æ¨¡å—æµ‹è¯•å‡ºé”™: ' + error.message, 'error');
            }
        }

        function testUIElements() {
            const elements = [
                'url-input',
                'go-btn',
                'media-download-btn',
                'text-download-btn',
                'pdf-download-btn'
            ];

            let found = 0;
            elements.forEach(id => {
                if (document.getElementById(id)) {
                    found++;
                }
            });

            if (found === elements.length) {
                addResult(`âœ… æ‰€æœ‰UIå…ƒç´  (${found}/${elements.length}) éƒ½å­˜åœ¨`, 'success');
            } else {
                addResult(`âš ï¸ éƒ¨åˆ†UIå…ƒç´ ç¼ºå¤± (${found}/${elements.length})`, 'warning');
            }
        }

        function testMobileFeatures() {
            const viewport = document.querySelector('meta[name="viewport"]');
            const appleMeta = document.querySelector('meta[name="apple-mobile-web-app-capable"]');
            
            if (viewport && appleMeta) {
                addResult('âœ… ç§»åŠ¨è®¾å¤‡å…ƒæ ‡ç­¾é…ç½®æ­£ç¡®', 'success');
            } else {
                addResult('âš ï¸ ç§»åŠ¨è®¾å¤‡é…ç½®å¯èƒ½ä¸å®Œæ•´', 'warning');
            }

            // æ£€æŸ¥CSSåª’ä½“æŸ¥è¯¢
            fetch('./styles/main.css')
                .then(response => response.text())
                .then(css => {
                    if (css.includes('@media') && css.includes('max-width')) {
                        addResult('âœ… CSSå“åº”å¼è®¾è®¡é…ç½®æ­£ç¡®', 'success');
                    } else {
                        addResult('âš ï¸ å¯èƒ½ç¼ºå°‘å“åº”å¼CSS', 'warning');
                    }
                })
                .catch(() => {
                    addResult('âŒ æ— æ³•æ£€æŸ¥CSSæ–‡ä»¶', 'error');
                });
        }

        function runAllTests() {
            document.getElementById('results').innerHTML = '';
            addResult('ğŸ”„ å¼€å§‹è¿è¡Œæ‰€æœ‰æµ‹è¯•...', 'warning');
            
            setTimeout(() => {
                testModuleLoading();
                testUIElements();
                testMobileFeatures();
                
                setTimeout(() => {
                    addResult('âœ… æµ‹è¯•å®Œæˆï¼å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œé¡¹ç›®å·²å‡†å¤‡å¥½éƒ¨ç½²åˆ°GitHub Pages', 'success');
                }, 1000);
            }, 500);
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¿è¡ŒåŸºç¡€æ£€æŸ¥
        window.addEventListener('load', () => {
            addResult('ğŸ“„ é¡µé¢åŠ è½½å®Œæˆï¼Œå‡†å¤‡è¿›è¡Œéƒ¨ç½²å‰æ£€æŸ¥', 'success');
        });
    </script>
</body>
</html>